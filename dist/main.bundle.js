!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.enforcement=e():t.enforcement=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(1);t.exports=r},function(t,e,n){function r(){this.constraints={},this.bootstrap("./validations")}function o(t){return t.name&&t.test}var i=n(2),u=n(16),s=n(17);r.prototype.bootstrap=function(t){var e=this;["notEmpty","primitives","required","util"].forEach(function(r){e.register(n(18)(t+"/"+r))})},r.prototype.register=function(t){if(o(t))this.registerConstraint(new s(t)),t.derived&&this.register(t.derived);else for(var e in t)this.register(t[e])},r.prototype.registerConstraint=function(t){this.constraints[t.name]=t},r.prototype.Schema=function(t){return new i(this,t)},r.prototype.arrayOf=function(t){return new u(t)},r.create=function(){return new r},t.exports=r},function(t,e,n){function r(t,e){this.validator=t,this.constraints=u.create(t,e)}var o=n(3),i=n(7),u=n(11);o.inherits(r,i),r.prototype.check=function(t){for(var e in this.constraints){var n=[];this.constraints[e].test(t[e],n)||this.sendError(n,e)}},t.exports=r},function(t,e,n){(function(t,r){function o(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&e._extend(r,n),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),a(r,t,r.depth)}function i(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function u(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function a(t,n,r){if(t.customInspect&&n&&z(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return b(o)||(o=a(t,o,r)),o}var i=c(t,n);if(i)return i;var u=Object.keys(n),m=s(u);if(t.showHidden&&(u=Object.getOwnPropertyNames(n)),O(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(z(n)){var d=n.name?": "+n.name:"";return t.stylize("[Function"+d+"]","special")}if(E(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var v="",g=!1,w=["{","}"];if(y(n)&&(g=!0,w=["[","]"]),z(n)){var j=n.name?": "+n.name:"";v=" [Function"+j+"]"}if(E(n)&&(v=" "+RegExp.prototype.toString.call(n)),S(n)&&(v=" "+Date.prototype.toUTCString.call(n)),O(n)&&(v=" "+f(n)),0===u.length&&(!g||0==n.length))return w[0]+v+w[1];if(r<0)return E(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=g?p(t,n,r,m,u):u.map(function(e){return l(t,n,r,m,e,g)}),t.seen.pop(),h(x,v,w)}function c(t,e){if(j(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,r,o){for(var i=[],u=0,s=e.length;u<s;++u)L(e,String(u))?i.push(l(t,e,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(t,e,n,r,o,!0))}),i}function l(t,e,n,r,o,i){var u,s,c;if(c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),L(r,o)||(u="["+o+"]"),s||(t.seen.indexOf(c.value)<0?(s=d(n)?a(t,c.value,null):a(t,c.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),j(u)){if(i&&o.match(/^\d+$/))return s;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=t.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=t.stylize(u,"string"))}return u+": "+s}function h(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function y(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function d(t){return null===t}function v(t){return null==t}function g(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function j(t){return void 0===t}function E(t){return x(t)&&"[object RegExp]"===N(t)}function x(t){return"object"==typeof t&&null!==t}function S(t){return x(t)&&"[object Date]"===N(t)}function O(t){return x(t)&&("[object Error]"===N(t)||t instanceof Error)}function z(t){return"function"==typeof t}function D(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function N(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}function C(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),A[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var R=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,i=r.length,u=String(t).replace(R,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<i;s=r[++n])u+=d(s)||!x(s)?" "+s:" "+o(s);return u},e.deprecate=function(n,o){function i(){if(!u){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),u=!0}return n.apply(this,arguments)}if(j(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(r.noDeprecation===!0)return n;var u=!1;return i};var k,I={};e.debuglog=function(t){if(j(k)&&(k=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(k)){var n=r.pid;I[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else I[t]=function(){};return I[t]},e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=y,e.isBoolean=m,e.isNull=d,e.isNullOrUndefined=v,e.isNumber=g,e.isString=b,e.isSymbol=w,e.isUndefined=j,e.isRegExp=E,e.isObject=x,e.isDate=S,e.isError=O,e.isFunction=z,e.isPrimitive=D,e.isBuffer=n(5);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(6),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(4))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function u(){m&&h&&(m=!1,h.length?y=h.concat(y):d=-1,y.length&&s())}function s(){if(!m){var t=o(u);m=!0;for(var e=y.length;e;){for(h=y,y=[];++d<e;)h&&h[d].run();d=-1,e=y.length}h=null,m=!1,i(t)}}function a(t,e){this.fun=t,this.array=e}function c(){}var f,p,l=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var h,y=[],m=!1,d=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];y.push(new a(t,e)),1!==y.length||m||o(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=c,l.addListener=c,l.once=c,l.off=c,l.removeListener=c,l.removeAllListeners=c,l.emit=c,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(){}var o=n(8),i=n(9);r.prototype.check=function(t){return!0},r.prototype.validate=function(t){try{return this.check(t),i.Right(t)}catch(t){return i.Left(t)}},r.prototype.getName=function(){throw Error("No name defined")},r.prototype.sendError=function(t,e){throw new o(t,e)},t.exports=r},function(t,e,n){function r(t,e){this.stack="",Error.call(this),Error.captureStackTrace(this,this.constructor),this.flaws=t,this.field=e,this.message="Validation error: Fault(s) ["+this.flaws.join(", ")+"] on field ["+this.field+"]"}var o=n(3);o.inherits(r,Error),r.prototype.toString=function(){return"Validation Fault: ["+this.flaws.join(", ")+"] on field ["+this.field+"]"},t.exports=r},function(t,e,n){t.exports=n(10)},function(t,e){function n(){}function r(t){this.value=t}function o(t){this.value=t}t.exports=n;var i=Object.create,u=function(){throw new Error("Not implemented.")},s=function(){return this};r.prototype=i(n.prototype),o.prototype=i(n.prototype),n.Left=function(t){return new r(t)},n.prototype.Left=n.Left,n.Right=function(t){return new o(t)},n.prototype.Right=n.Right,n.fromNullable=function(t){return null!=t?new o(t):new r(t)},n.prototype.fromNullable=n.fromNullable,n.fromValidation=function(t){return t.fold(n.Left,n.Right)},n.try=function(t){return function(){try{return new o(t.apply(null,arguments))}catch(t){return new r(t)}}},n.prototype.isLeft=!1,r.prototype.isLeft=!0,n.prototype.isRight=!1,o.prototype.isRight=!0,n.of=function(t){return new o(t)},n.prototype.of=n.of,n.prototype.ap=u,r.prototype.ap=function(t){return this},o.prototype.ap=function(t){return t.map(this.value)},n.prototype.map=u,r.prototype.map=s,o.prototype.map=function(t){return this.of(t(this.value))},n.prototype.chain=u,r.prototype.chain=s,o.prototype.chain=function(t){return t(this.value)},n.prototype.toString=u,r.prototype.toString=function(){return"Either.Left("+this.value+")"},o.prototype.toString=function(){return"Either.Right("+this.value+")"},n.prototype.isEqual=u,r.prototype.isEqual=function(t){return t.isLeft&&t.value===this.value},o.prototype.isEqual=function(t){return t.isRight&&t.value===this.value},n.prototype.get=u,r.prototype.get=function(){throw new TypeError("Can't extract the value of a Left(a).")},o.prototype.get=function(){return this.value},n.prototype.getOrElse=u,r.prototype.getOrElse=function(t){return t},o.prototype.getOrElse=function(t){return this.value},n.prototype.orElse=u,o.prototype.orElse=s,r.prototype.orElse=function(t){return t(this.value)},n.prototype.merge=function(){return this.value},n.prototype.fold=u,r.prototype.fold=function(t,e){return t(this.value)},o.prototype.fold=function(t,e){return e(this.value)},n.prototype.cata=u,r.prototype.cata=function(t){return t.Left(this.value)},o.prototype.cata=function(t){return t.Right(this.value)},n.prototype.swap=u,r.prototype.swap=function(){return this.Right(this.value)},o.prototype.swap=function(){return this.Left(this.value)},n.prototype.bimap=u,r.prototype.bimap=function(t,e){return this.Left(t(this.value))},o.prototype.bimap=function(t,e){return this.Right(e(this.value))},n.prototype.leftMap=u,o.prototype.leftMap=s,r.prototype.leftMap=function(t){return this.Left(t(this.value))}},function(t,e,n){function r(t,e){var n={};for(var r in e){var i=o(t,e[r],r);n[r]=i}return n}function o(t,e,n){if(e.constructor===Array)return a(t,e);if(e.constructor===String){var r=i(e);if(0===r.length)throw Error("Bad constraint definition: ["+e+"]");return 1===r.length?u(t,r[0]):a(t,r)}return e instanceof m?new y(e,n):void 0}function i(t){var e=[];if(!t.match(c))return e;for(var n=t;n.length>0;){n=n.trimLeft();var r=n.match(f);r[1]&&e.push(r[1]),r[2]&&e.push(r[2]),n=n.replace(f,""),n=n.trimLeft()}return e}function u(t,e){if(e.match(p))return s(t,e);if(!t.constraints[e])throw Error("Constraint named ["+e+"] is not registered");return t.constraints[e]}function s(t,e){var n=e.match(p)[1],r=o(t,n),i=new l(r);return i}function a(t,e){for(var n=new h,r=0;r<e.length;r++)if(e[r]instanceof m)n.add(new y(e[r]));else{if(e[r].constructor!==String)throw Error("Illegal object to create constraint: ["+e[r]+"]");n.add(o(t,e[r]))}return n}var c=/^((\w+)|(\[[\w\s]+\])|\s)+$/,f=/^(\w+)|(\[[\w\s]+\])/,p=/^\[([\w\s]+)\]$/,l=n(12),h=n(14),y=n(15),m=n(7);e.create=r},function(t,e,n){function r(t){this.baseConstraint=t,Object.defineProperties(this,{name:{value:"["+t.name+"]",writable:!1}}),Object.freeze(this)}var o=n(3),i=n(13);o.inherits(r,i),r.prototype.test=function(t,e){if("undefined"!=typeof t&&null!=t){if(t.constructor!==Array)return e.push("Array"),!1;for(var n=0;n<t.length;n++)if(!this.baseConstraint.test(t[n],e))return!1}return!0},t.exports=r},function(t,e){function n(){}n.prototype.test=function(){return!0},n.prototype.name="",n.prototype.message="validation Error",t.exports=n},function(t,e,n){function r(){this.constraints=[],Object.seal(this)}var o=n(3),i=n(13);o.inherits(r,i),r.prototype.test=function(t,e){for(var n=0;n<this.constraints.length;n++)if(!this.constraints[n].test(t,e))return!1;return!0},r.prototype.add=function(t){this.constraints.push(t)},t.exports=r},function(t,e,n){function r(t,e){this.schema=t,Object.defineProperties(this,{name:{value:e},message:{value:"Schema validation failed."}}),Object.freeze(this)}var o=n(3),i=n(13);o.inherits(r,i),r.prototype.test=function(t,e){try{return this.schema.check(t),!0}catch(t){if(t.flaws)for(var n=0;n<t.flaws.length;n++)e.push(t.flaws[n]);return!1}},t.exports=r},function(t,e,n){function r(t){this.baseSchema=t}var o=n(3),i=n(7);n(11);o.inherits(r,i),r.prototype.check=function(t){for(var e=0;e<t.length;e++){var n=t[e];this.baseSchema.check(n)}},t.exports=r},function(t,e,n){function r(t){this.config=t,Object.defineProperties(this,{name:{value:t.name},message:{value:t.message}}),Object.freeze(this)}var o=n(3),i=n(13);o.inherits(r,i),r.prototype.test=function(t,e){return!!this.config.test(t)||(e.push(this.name),!1)},t.exports=r},function(t,e,n){function r(t){return n(o(t))}function o(t){return i[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var i={"./constraint/arrayConstraint":12,"./constraint/arrayConstraint.js":12,"./constraint/compositeConstraint":14,"./constraint/compositeConstraint.js":14,"./constraint/constraint":13,"./constraint/constraint.js":13,"./constraint/constraintFactory":11,"./constraint/constraintFactory.js":11,"./constraint/primitiveConstraint":17,"./constraint/primitiveConstraint.js":17,"./constraint/schemaConstraint":15,"./constraint/schemaConstraint.js":15,"./schema/arraySchema":16,"./schema/arraySchema.js":16,"./schema/objectSchema":2,"./schema/objectSchema.js":2,"./schema/schema":7,"./schema/schema.js":7,"./validationError":8,"./validationError.js":8,"./validations/notEmpty":19,"./validations/notEmpty.js":19,"./validations/primitives":21,"./validations/primitives.js":21,"./validations/required":22,"./validations/required.js":22,"./validations/util":20,"./validations/util.js":20,"./validator":1,"./validator.js":1};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=18},function(t,e,n){var r=n(20);e.name="notEmpty",e.test=function(t){return r.testIfDefined(t,function(){return t.length>0})},e.message="attribute %attr% is empty"},function(t,e){t.exports={testIfDefined:function(t,e){return"undefined"==typeof t||e(t)}}},function(t,e,n){var r=n(20);e.validations={string:{name:"string",test:function(t){return r.testIfDefined(t,function(){return t.constructor===String})},message:"attribute %attr% is not a string: [%value%]"},number:{name:"number",test:function(t){return r.testIfDefined(t,function(){return t.constructor===Number})},message:"attribute %attr% is not a number: [%value%]"},integer:{name:"integer",test:function(t){return r.testIfDefined(t,function(){return t.constructor===Number&&t%1===0})},message:"attribute %attr% is not a number: [%value%]"},positive:{name:"positive",test:function(t){return r.testIfDefined(t,function(){return t.constructor===Number&&t>0})},message:"attribute %attr% is not a number: [%value%]"},negative:{name:"negative",test:function(t){return r.testIfDefined(t,function(){return t.constructor===Number&&t<0})},message:"attribute %attr% is not a number: [%value%]"},bool:{name:"boolean",test:function(t){return r.testIfDefined(t,function(){return t.constructor===Boolean})},message:"attribute %attr% is not a boolean: [%value%]"},array:{name:"array",test:function(t){return r.testIfDefined(t,function(){return t.constructor===Array})},message:"attribute %attr% is not an array: [%value%]"}}},function(t,e){e.name="required",e.test=function(t){return null!=t&&"undefined"!=typeof t},e.message="attribute %attr% is not defined"}])});